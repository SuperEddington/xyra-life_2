(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,28992,t=>{"use strict";var e=t.i(43476),u=t.i(71645);let r=(0,u.createContext)(void 0);function i({children:t}){let[i,a]=(0,u.useState)([]),[o,d]=(0,u.useState)(!1),c=(0,u.useCallback)(()=>d(!0),[]),s=(0,u.useCallback)(()=>d(!1),[]),l=(0,u.useCallback)(t=>{a(e=>e.find(e=>e.product.id===t.id)?e.map(e=>e.product.id===t.id?{...e,quantity:e.quantity+1}:e):[...e,{product:t,quantity:1}]),d(!0)},[a,d]),n=(0,u.useCallback)(t=>{a(e=>e.filter(e=>e.product.id!==t))},[]),C=(0,u.useCallback)((t,e)=>{e<=0?a(e=>e.filter(e=>e.product.id!==t)):a(u=>u.map(u=>u.product.id===t?{...u,quantity:e}:u))},[]),p=(0,u.useMemo)(()=>i.reduce((t,e)=>t+e.quantity,0),[i]),b=(0,u.useMemo)(()=>i.reduce((t,e)=>t+e.product.price*e.quantity,0),[i]),m=(0,u.useMemo)(()=>({items:i,isOpen:o,openCart:c,closeCart:s,addItem:l,removeItem:n,updateQuantity:C,totalItems:p,subtotal:b}),[i,o,c,s,l,n,C,p,b]);return(0,e.jsx)(r.Provider,{value:m,children:t})}function a(){let t=(0,u.useContext)(r);if(void 0===t)throw Error("useCart must be used within a CartProvider");return t}t.s(["CartProvider",()=>i,"useCart",()=>a])}]);